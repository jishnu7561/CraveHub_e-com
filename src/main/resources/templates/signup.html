<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html" lang="en">
	<head>
		<meta charset="utf-8">
		<title>RegistrationForm_v1 by Colorlib</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- MATERIAL DESIGN ICONIC FONT -->
		<link rel="stylesheet" href="/fonts/material-design-iconic-font">

		<!--BOOTSTRAP-->
<!--		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">-->

		<!-- STYLE CSS -->
		<link rel="stylesheet" href="/css/styleLogin.css">
		<style>
			.email {
        color: red;
        text-align: center; /* Center the text horizontally */
        position: fixed;
        top: 83%; /* Position the element 50% from the top of the viewport */
        left: 65%; /* Position the element 50% from the left of the viewport */
        transform: translate(-50%, -50%); /* Center the element both horizontally and vertically */
    }
	.errorMessage{
	color:red;
			}
.shadow-box {
    width: 100%; /* Set the width of your div */
    height: 3rem; /* Set the height of your div */
    box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.1); /* Add shadow at the bottom */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color:#4F200D;
}
		</style>
	</head>

	<body>
		<div style="background-color:#FFD93D">
			<h2 class="shadow-box" th:if="${reg != null}" th:text="${reg}"></h2>
		</div>
		<div class="wrapper" style="background-image: url('/images/Untitled-1.jpg');">
			<div class="inner">
				<div class="image-holder">
					<img src="/images/registration-form-1%20(2).jpg" alt="">
				</div>
				<form   th:action="@{/registration}" method="post" th:object="${user}" onsubmit="return validateForm()" >
					<h3>Sign up</h3>
					<div class="form-group">
							<input type="text" placeholder="First Name" class="form-control" th:field="*{firstName}" id="firstName" required>
							<input type="text" placeholder="Last Name" class="form-control" th:field="*{lastName}" id="lastName" required>
					</div>
					<p id="firstNameError" class="error-message errorMessage"></p>
					<p id="lastNameError" class="error-message errorMessage"></p>
					<div class="form-wrapper">
						<input type="text" placeholder="Username" class="form-control" th:field="*{userName}"  id="username" required>
						<i class="zmdi zmdi-account"></i>
						<p id="usernameError" class="error-message errorMessage"></p>
					</div>
					<div class="form-wrapper">
						<input type="text" placeholder="Email Address" class="form-control" th:field="*{email}" required>
						<i class="zmdi zmdi-email"></i>
						<p id="emailError" class="error-message errorMessage"></p>
					</div>
					<div class="form-wrapper">
						<input type="password" placeholder="Password" class="form-control" th:field="*{password}" required>
						<i class="zmdi zmdi-lock"></i>
						<p id="passwordError" class="error-message errorMessage"></p>
					</div>
					<button>Register
						<i class="zmdi zmdi-arrow-right">-> </i>
					</button>
					<p  th:if="${param.email}" class="email"  >email or username already exist</p>

				</form>

<!--				<form th:action="@{/registration}" method="post" th:object="${user}" onsubmit="return validateForm()">-->
<!--					<h3>Sign up</h3>-->
<!--					<div class="form-group">-->
<!--						<input type="text" placeholder="First Name" class="form-control" th:field="*{firstName}" id="firstName" name="firstName" required>-->
<!--						<input type="text" placeholder="Last Name" class="form-control" th:field="*{lastName}" id="lastName" name="lastName" required>-->
<!--					</div>-->
<!--					<p class="error-message  id="firstnameFeedback"></p>-->
<!--					<p class="text-danger" id="lastnameFeedback"></p>-->
<!--					<div class="form-wrapper">-->
<!--						<input type="text" placeholder="Username" class="form-control" th:field="*{userName}" id="username" name="userName" required>-->
<!--						<i class="zmdi zmdi-account"></i>-->
<!--						<p class="text-danger" id="usernameFeedback"></p>-->
<!--					</div>-->
<!--					<div class="form-wrapper">-->
<!--						<input type="email" placeholder="Email Address" class="form-control" th:field="*{email}" id="email" name="email" required>-->
<!--						<i class="zmdi zmdi-email"></i>-->
<!--						<p class="text-danger" id="emailFeedback"></p>>-->
<!--					</div>-->
<!--					<div class="form-wrapper">-->
<!--						<input type="password" placeholder="Password" class="form-control" th:field="*{password}" id="password" name="password" required>-->
<!--						<i class="zmdi zmdi-lock"></i>-->
<!--						<p class="text-danger" id="passwordFeedback"></p>-->
<!--					</div>-->
<!--					<button>Register <i class="zmdi zmdi-arrow-right"></i></button>-->
<!--					<p th:if="${param.email}" class="email">Email or username already exists</p>-->
<!--				</form>-->


			</div>
		</div>


<!--		<script>-->
<!--			var firstNameInput = document.getElementById("firstName");-->
<!--            var lastNameInput = document.getElementById("lastName");-->
<!--            var usernameInput = document.getElementById("username");-->
<!--            var emailInput = document.getElementById("email");-->
<!--            var passwordInput = document.getElementById("password");-->

<!--            var firstNameError = document.getElementById("firstNameError");-->
<!--            var lastNameError = document.getElementById("lastNameError");-->
<!--            var usernameError = document.getElementById("usernameError");-->
<!--            var emailError = document.getElementById("emailError");-->
<!--            var passwordError = document.getElementById("passwordError");-->

<!--           	var regexFirstName = /^[A-Za-z]{4,15}$/; // First name should be between 4 and 15 characters-->
<!--			var regexLastName = /^[A-Za-z]{1,15}$/;-->
<!--			var regexEmail = /^[a-z0-9._%+-]{3,}@[a-z0-9.-]+\.[a-z]{2,}$/;-->
<!--            var regexPassword = /^[A-Za-z0-9]{4,8}$/;-->
<!--    		var regexUsername = /^[A-Za-z0-9!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]{4,10}$/;-->

<!--            firstNameInput.addEventListener("input", function() {-->
<!--                validateInput(this, "First name", regexFirstName, firstNameError);-->
<!--            });-->

<!--            lastNameInput.addEventListener("input", function() {-->
<!--                validateInput(this, "Last name", regexLastName, lastNameError);-->
<!--            });-->

<!--            usernameInput.addEventListener("input", function() {-->
<!--                validateInput(this, "Username", regexUsername, usernameError);-->
<!--            });-->

<!--            emailInput.addEventListener("input", function() {-->
<!--                validateInput(this, "Email", regexEmail, emailError);-->
<!--            });-->

<!--            passwordInput.addEventListener("input", function() {-->
<!--                validateInput(this, "Password", regexPassword, passwordError);-->
<!--            });-->

<!--            function validateInput(input, nameType, regex, errorElement) {-->
<!--                var value = input.value;-->
<!--                if (!regex.test(value)) {-->
<!--                    errorElement.textContent = nameType + " is not valid.";-->
<!--                } else {-->
<!--                    errorElement.textContent = "";-->
<!--                }-->
<!--            }-->

<!--				function validateForm() {-->
<!--					var isValid = true;-->

<!--					// Validation logic for each input field-->
<!--					if (!regexFirstName.test(firstNameInput.value)) {-->
<!--						firstNameError.textContent = "First name must contain min 5 and max 15 alphabets.";-->
<!--						isValid = false;-->
<!--					} else {-->
<!--						firstNameError.textContent = "";-->
<!--					}-->

<!--					if (!regexLastName.test(lastNameInput.value)) {-->
<!--						lastNameError.textContent = "Last name must contain max 15 alphabets.";-->
<!--						isValid = false;-->
<!--					} else {-->
<!--						lastNameError.textContent = "";-->
<!--					}-->

<!--					if (!regexUsername.test(usernameInput.value)) {-->
<!--						usernameError.textContent = "Username must contain min 4 and max 10 characters.";-->
<!--						isValid = false;-->
<!--					} else {-->
<!--						usernameError.textContent = "";-->
<!--					}-->

<!--					if (!regexEmail.test(emailInput.value)) {-->
<!--						emailError.textContent = "Email is not valid.";-->
<!--						isValid = false;-->
<!--					} else {-->
<!--						emailError.textContent = "";-->
<!--					}-->

<!--					if (!regexPassword.test(passwordInput.value)) {-->
<!--						passwordError.textContent = "Password must contain min 4 and max 8 alphabets or numbers.";-->
<!--						isValid = false;-->
<!--					} else {-->
<!--						passwordError.textContent = "";-->
<!--					}-->

<!--					return isValid;-->
<!--				}-->

<!--		</script>-->

<script>
	    var firstNameInput = document.getElementById("firstName");
        var lastNameInput = document.getElementById("lastName");
        var usernameInput = document.getElementById("username");
        var emailInput = document.getElementById("email");
        var passwordInput = document.getElementById("password");

        var firstNameError = document.getElementById("firstNameError");
        var lastNameError = document.getElementById("lastNameError");
        var usernameError = document.getElementById("usernameError");
        var emailError = document.getElementById("emailError");
        var passwordError = document.getElementById("passwordError");

        var regexFirstName = /^[A-Za-z]{4,15}$/; // First name should be between 4 and 15 characters
        var regexLastName = /^[A-Za-z]{1,15}$/;
		var regexEmail = /^[a-z-0-9._-]+@[a-z-0-9.-]+\.[a-z]{2,4}$/;
		var regexPassword = /^[A-Za-z0-9]{4,8}$/;
        var regexUsername = /^[A-Za-z0-9]{4,10}$/;


        firstNameInput.addEventListener("input", function() {
			var value = this.value;
			if (!regexFirstName.test(value)) {
				firstNameError.textContent = "First name must contain only alphabets and be between 5-15 characters";
			} else {
				firstNameError.textContent = "";
			}
		});

        lastNameInput.addEventListener("input", function() {
           var value = this.value;
			if (!regexLastName.test(value)) {
				lastNameError.textContent = "Last name must contain only alphabets and be up to 15 characters";
			} else {
				lastNameError.textContent = "";
			}
        });

        usernameInput.addEventListener("input", function() {
            var value = this.value;
			if (! regexUsername.test(value)) {
				usernameError.textContent = "Username must contain only alphabets and numbers and be between 4-10 characters";
			} else {
				usernameError.textContent = "";
			}
        });

        emailInput.addEventListener("input", function() {
            var value = this.value;
			if (!regexEmail.test(value)) {
				emailError.textContent = "Email is not valid.";
			} else {
				emailError.textContent = "";
			}
        });

        passwordInput.addEventListener("input", function() {
           var value = this.value;
			if (!regexPassword.test(value)) {
				passwordError.textContent = "Password must contain min 4 and max 8 alphabets or numbers.";
			} else {
				passwordError.textContent = "";
			}
        });

<!--        function validateInput(input, nameType, regex, errorElement) {-->
<!--            var value = input.value;-->
<!--            if (!regex.test(value)) {-->
<!--                errorElement.textContent = nameType + " is not valid.";-->
<!--            } else {-->
<!--                errorElement.textContent = "";-->
<!--            }-->
<!--        }-->

            function validateForm() {
                var isValid = true;

                // Validation logic for each input field
                if (!regexFirstName.test(firstNameInput.value)) {
                    firstNameError.textContent = "First name must contain min 5 and max 15 alphabets.";
                    isValid = false;
                } else {
                    firstNameError.textContent = "";
                }

                if (!regexLastName.test(lastNameInput.value)) {
                    lastNameError.textContent = "Last name must contain max 15 alphabets.";
                    isValid = false;
                } else {
                    lastNameError.textContent = "";
                }

                if (!regexUsername.test(usernameInput.value)) {
                    usernameError.textContent = "Username must contain min 4 and max 10 characters.";
                    isValid = false;
                } else {
                    usernameError.textContent = "";
                }

                if (!regexEmail.test(emailInput.value)) {
                    emailError.textContent = "Email is not valid.";
                    isValid = false;
                } else {
                    emailError.textContent = "";
                }

                if (!regexPassword.test(passwordInput.value)) {
                    passwordError.textContent = "Password must contain min 4 and max 8 alphabets or numbers.";
                    isValid = false;
                } else {
                    passwordError.textContent = "";
                }

                return isValid;
            }

</script>

<!--<script>-->
<!--		function setupValidation(inputId, feedbackId, pattern, title) {-->
<!--		const inputElem = document.getElementById(inputId);-->
<!--		const feedbackElem = document.getElementById(feedbackId);-->

<!--		inputElem.addEventListener('input', function () {-->
<!--		if (!inputElem.checkValidity()) {-->
<!--		feedbackElem.textContent = title;-->
<!--		} else {-->
<!--		feedbackElem.textContent = '';-->
<!--		}-->
<!--		});-->

<!--		inputElem.pattern = pattern;-->
<!--		inputElem.title = title;-->
<!--		}-->

<!--		setupValidation('firstName', 'firstnameFeedback', '^[A-Za-z]{5,15}$', 'First name must contain only alphabets and be between 5-15 characters');-->
<!--		setupValidation('lastName', 'lastnameFeedback', '^[A-Za-z]{1,15}$', 'Last name must contain only alphabets and be up to 15 characters');-->
<!--		setupValidation('username', 'usernameFeedback', '^[A-Za-z0-9]{4,10}$', 'Username must contain only alphabets and numbers and be between 4-10 characters');-->
<!--		setupValidation('email', 'emailFeedback', '^[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$', 'Please enter a valid email address');-->
<!--		setupValidation('phoneNumber', 'numberFeedBack', '^[0-9\\s\\-\\(\\)]+$', 'Please enter a valid phone number');-->
<!--		setupValidation('password', 'passwordFeedback', '^[A-Za-z0-9]{4,8}$', 'Password must contain alphanumeric characters and be between 4-8 characters');-->

<!--		function validateForm() {-->
<!--		const formError = document.getElementById('formError');-->
<!--		formError.style.display = 'none'; // Hide the global error message initially-->

<!--		const firstName = document.getElementById('firstName').value;-->
<!--		const lastName = document.getElementById('lastName').value;-->
<!--		const username = document.getElementById('username').value;-->
<!--		const email = document.getElementById('email').value;-->
<!--		const phoneNumber = document.getElementById('phoneNumber').value;-->
<!--		const password = document.getElementById('password').value;-->

<!--		if (firstName.trim() === "" || lastName.trim() === "" || username.trim() === "" || email.trim() === "" || phoneNumber.trim() === "" || password.trim() === "") {-->
<!--		formError.style.display = 'block'; // Show the global error message-->
<!--		return false; // Prevent form submission-->
<!--		}-->

<!--		return true; // Allow form submission if all fields are filled-->
<!--		}-->
<!--</script>-->


	</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>